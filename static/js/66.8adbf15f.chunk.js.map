{"version":3,"file":"static/js/66.8adbf15f.chunk.js","mappings":"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","sources":["pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { useTranslation } from \"react-i18next\";\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\nimport { FaRegCircleUser } from \"react-icons/fa6\";\nimport { useDispatch } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport SummaryApi from \"../common\";\nimport { getCartCount } from \"../store/cartSlice\";\nimport { fetchCurrentUser } from \"../store/userSlice\";\n// import Context from \"../context\";\n\nfunction Login() {\n  const { t } = useTranslation();\n  const [showPassword, setShowPassword] = useState(false);\n  const [data, setData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [isLoading, setIsLoading] = useState(false);\n  // const { fetchUserDetails, fetchUserAddToCart } = useContext(Context);\n\n  const handleOnChange = (e) => {\n    const { name, value } = e.target;\n\n    setData((preve) => {\n      return {\n        ...preve,\n        [name]: value,\n      };\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      setIsLoading(true);\n      const dataResponse = await fetch(SummaryApi.signIn.url, {\n        method: SummaryApi.signIn.method,\n        credentials: \"include\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      });\n\n      const dataApi = await dataResponse.json();\n\n      if (dataApi.success) {\n        toast.success(t(\"messages.successLogin\"));\n        dispatch(fetchCurrentUser());\n        dispatch(getCartCount());\n        navigate(\"/\");\n        // fetchUserDetails();\n        // fetchUserAddToCart();\n      }\n\n      if (dataApi.error) {\n        throw new Error(\"Something went wrong\");\n      }\n    } catch (err) {\n      console.log(err.message);\n      toast.error(t(\"messages.errLogin\"));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <Helmet>\n        <meta charSet=\"utf-8\" />\n        <title>{t(\"SEO.titles.login\")}</title>\n      </Helmet>\n\n      <section id=\"login\">\n        <div className=\"mx-auto container p-4\">\n          <div className=\"bg-white p-5 w-full max-w-sm mx-auto section-box-shadow rounded-lg border-[1px] border-[var(--primary-color-900)]\">\n            <div className=\"w-20 h-20 mx-auto\">\n              <FaRegCircleUser className=\"text-[5rem] rounded-[50%] fill-[var(--primary-color-900)]\" />\n            </div>\n\n            <form className=\"pt-6 flex flex-col gap-2\" onSubmit={handleSubmit}>\n              <div className=\"grid\">\n                <label>{t(\"forms.login.emailField.label\")}</label>\n                <div className=\"bg-slate-100 p-2\">\n                  <input\n                    type=\"email\"\n                    placeholder={t(\"forms.login.emailField.placeholder\")}\n                    name=\"email\"\n                    value={data.email}\n                    onChange={handleOnChange}\n                    className=\"w-full h-full outline-none bg-transparent\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label>{t(\"forms.login.passwordField.label\")}</label>\n                <div className=\"bg-slate-100 p-2 flex\">\n                  <input\n                    type={showPassword ? \"text\" : \"password\"}\n                    placeholder={t(\"forms.login.passwordField.placeholder\")}\n                    value={data.password}\n                    name=\"password\"\n                    onChange={handleOnChange}\n                    className=\"w-full h-full outline-none bg-transparent\"\n                  />\n                  <div\n                    className=\"cursor-pointer text-xl\"\n                    onClick={() => setShowPassword((preve) => !preve)}\n                  >\n                    <span>{showPassword ? <FaEyeSlash /> : <FaEye />}</span>\n                  </div>\n                </div>\n                {/* <Link\n                to={\"/forgot-password\"}\n                className=\"block w-fit ml-auto hover:underline hover:text-red-600\"\n              >\n                Forgot password ?\n              </Link> */}\n              </div>\n\n              <button\n                disabled={isLoading}\n                className=\"bg-primary-900 hover:bg-primary-700 text-white px-6 py-2 w-full max-w-[150px] rounded-full hover:scale-110 transition-all mx-auto block mt-6\"\n              >\n                {t(\"forms.login.loginBtn\")}\n              </button>\n            </form>\n\n            <p className=\"my-5\">\n              {t(\"forms.login.askAccount\")}\n              <Link\n                to={\"/sign-up\"}\n                className=\"text-[var(--primary-color-1100)] hover:underline\"\n              >\n                {t(\"forms.login.signupBtn\")}\n              </Link>\n            </p>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n}\n\nexport default Login;\n"],"names":["t","useTranslation","showPassword","setShowPassword","useState","data","setData","email","password","navigate","useNavigate","dispatch","useDispatch","isLoading","setIsLoading","handleOnChange","e","name","value","target","preve","_jsxs","_Fragment","children","Helmet","_jsx","charSet","id","className","FaRegCircleUser","onSubmit","async","preventDefault","dataResponse","fetch","SummaryApi","signIn","url","method","credentials","headers","body","JSON","stringify","dataApi","json","success","toast","fetchCurrentUser","getCartCount","error","Error","err","console","log","message","type","placeholder","onChange","onClick","FaEyeSlash","FaEye","disabled","Link","to"],"sourceRoot":""}