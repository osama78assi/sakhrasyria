"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[860],{3648:(e,t,s)=>{s.d(t,{A:()=>x});var n=s(5043),a=s(4117),r=s(3156),l=s(3003),i=s(3216),c=s(6879);var o=s(5414),d=s(132),m=s(579);const u=function(e){let{name:t,imgUrl:s}=e;const[a,r]=(0,n.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("img",{onLoad:()=>r(!0),src:s,alt:"".concat(t," product"),className:"w-full h-56 object-cover ".concat(a?"":"hidden")}),(0,m.jsx)("div",{className:"w-full h-56 bg-gray-500 animate-pulse ".concat(a?"hidden":"")})]})};const x=function(e){var t,s;let{id:x,images:h,name:g,price:v,classes:f}=e;const[j,p]=(0,n.useState)(!1),b=(0,l.d4)((e=>e.user.user)),w=(0,l.d4)((e=>e.cart.cart)),y=(0,l.d4)((e=>e.cart.isLoading)),[N,C]=(0,n.useState)(0),{i18n:k}=(0,a.Bd)(),A=(0,i.Zp)(),{t:S}=(0,a.Bd)(),F=(0,l.wA)(),B=null===w||void 0===w?void 0:w.filter((e=>e.productId._id===x)).length;function D(){C((e=>(e+1)%h.length))}function E(){C((e=>(e-1+h.length)%h.length))}return(0,m.jsxs)("div",{className:"w-[20rem] basis-[20rem] sm:w-auto sm:basis-[calc(50%-1rem)] md:basis-[calc(33.333333333% - 1.75rem)] lg:basis-[calc(25%-1rem)] border-[1px] border-[var(--primary-color-900)] bg-white shadow-lg rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300 ".concat(f||""),children:[(0,m.jsx)("div",{className:"relative",children:(0,m.jsx)(u,{imgUrl:h[N],name:null===g||void 0===g||null===(t=g.filter((e=>e.language===k.language))[0])||void 0===t?void 0:t.text})}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("button",{onClick:()=>"en"===k.language?E():D(),className:"bg-primary-900 text-white p-2 hover:bg-primary-700 ",children:"ar"===k.language?(0,m.jsx)(r.FDZ,{}):(0,m.jsx)(r.ed2,{})}),(0,m.jsxs)("span",{children:[N+1," / ",h.length]}),(0,m.jsx)("button",{onClick:()=>"en"===k.language?D():E(),className:" bg-primary-900 text-white p-2 hover:bg-primary-700",children:"ar"===k.language?(0,m.jsx)(r.ed2,{}):(0,m.jsx)(r.FDZ,{})})]}),(0,m.jsxs)("div",{className:"p-4",children:[(0,m.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:null===g||void 0===g||null===(s=g.filter((e=>e.language===k.language))[0])||void 0===s?void 0:s.text}),(0,m.jsx)("div",{className:"flex items-center justify-between mt-2",children:(0,m.jsx)("span",{className:"text-xl font-bold",children:(0,c.A)(v)})}),(0,m.jsxs)("div",{className:"flex gap-[1.5rem]",children:[(0,m.jsx)("button",{onClick:async function(e){try{if(null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault(),!b)return void A("/login/");if(B)return void p(!0);F((0,o.bE)(x))}catch(t){console.log(t.message)}},className:"mt-4 w-full bg-primary-900 text-white py-2 px-4 basis-[calc(50%-0.75rem)] rounded-lg hover:bg-primary-700 transition-colors ".concat(y&&"!cursor-not-allowed"),disabled:y,children:S(B?"cart.removeFromBtn":"cart.addToBtn")}),(0,m.jsx)("button",{onClick:function(){A("/product/".concat(x))},className:"mt-4 w-full bg-primary-900 text-white py-2 px-4 basis-[calc(50%-0.75rem)] rounded-lg hover:bg-primary-700 transition-colors ".concat(y&&"!cursor-not-allowed"),disabled:y,children:S("store.showDetailsBtn")})]})]})]}),j&&(0,m.jsx)(d.A,{about:S("messages.confirmRemoveFromCart"),onClose:()=>p(!1),onConfirm:()=>{!function(e){F((0,o.n4)(e))}(x),p(!1)}})]})}},132:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(7950),a=s(4117),r=s(8973),l=s(5649),i=s(7620),c=s(579);const o=function(e){let{about:t,onConfirm:s,onClose:o,moreDetails:d=!0,children:m}=e;const{t:u}=(0,a.Bd)(),x=(0,l.j)((()=>{null===o||void 0===o||o()}));return(0,n.createPortal)((0,c.jsx)("div",{className:"fixed inset-0 flex justify-center items-center z-50 backdrop-brightness-75",children:(0,c.jsxs)("div",{className:"bg-white shadow-lg rounded max-w-5xl mx-auto p-4 overflow-auto",ref:x,children:[(0,c.jsx)("div",{className:"w-fit ml-auto text-2xl hover:text-red-600 cursor-pointer",onClick:()=>null===o||void 0===o?void 0:o(),children:(0,c.jsx)(r.PXF,{})}),(0,c.jsxs)("div",{className:"flex justify-center gap-5 flex-col p-4 max-w-[80dvh] max-h-[80dvh] object-cover",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold",children:"".concat(u("messages.confirmQuestion1")," ").concat(t," ").concat(d?u("messages.confirmQuestion2"):"")}),m||null,(0,c.jsxs)("div",{className:"flex items-center justify-between p-1",children:[(0,c.jsx)(i.A,{title:u("messages.yes"),type:"danger",handleClick:()=>null===s||void 0===s?void 0:s(),classes:"w-[49%] font-semibold text-lg"}),(0,c.jsx)(i.A,{title:u("messages.no"),handleClick:()=>null===o||void 0===o?void 0:o(),classes:"w-[49%] font-semibold text-lg"})]})]})]})}),document.body)}},4075:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(4117),a=s(3156),r=s(579);const l=function(e){let{refetchFunction:t,disable:s}=e;const{t:l}=(0,n.Bd)();return(0,r.jsxs)("div",{className:"bg-red-200 rounded-lg p-3",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-bl mb-3 flex items-center flex-wrap gap-4",children:[(0,r.jsx)("p",{className:"text-2xl text-red-500 ",children:l("messages.genericErr.title")}),(0,r.jsx)(a.Ddf,{className:"text-4xl text-red-500"})]}),t?(0,r.jsx)("p",{className:"text-red-500 underline transition-colors cursor-pointer hover:text-red-800 ".concat(s?"pointer-events-none cursor-not-allowed":""),onClick:()=>null===t||void 0===t?void 0:t(),children:l("messages.genericErr.btnTitle")}):null]})}},7620:(e,t,s)=>{s.d(t,{A:()=>a});var n=s(579);const a=function(e){let{type:t="primary",title:s,dis:a,classes:r,handleClick:l}=e,i="";if("danger"===t)i="bg-red-500 hover:bg-red-600";else i="bg-[var(--primary-color-900)] hover:bg-[var(--primary-color-1100)]";return(0,n.jsx)("button",{className:"text-slate-50 border-none outline-none rounded-lg p-2 transition-colors disabled:cursor-not-allowed ".concat(i," ").concat(r),onClick:e=>null===l||void 0===l?void 0:l(e),disabled:a,children:s})}},6879:(e,t,s)=>{s.d(t,{A:()=>n});const n=e=>new Intl.NumberFormat("en-SY",{style:"currency",currency:"SYP",minimumFractionDigits:2}).format(e)},9860:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var n=s(5043),a=s(1591),r=s(4117),l=s(2780),i=s(3003),c=s(3216),o=s(1552),d=s(3648),m=s(4075),u=s(5414),x=s(579);const h=function(){const{t:e}=(0,r.Bd)(),t=(0,c.zy)(),[s,h]=(0,n.useState)([]),[g,v]=(0,n.useState)(!1),[f,j]=(0,n.useState)(!1),p=(0,i.wA)(),b=(0,n.useCallback)((async()=>{try{j(!1),v(!0);const e=await fetch(o.A.searchProduct.url+t.search),s=await e.json();v(!1),h(s.data)}catch(f){console.log(f.message),j(!0)}}),[t.search]);return(0,n.useEffect)((()=>{b()}),[t,b]),(0,n.useEffect)((()=>{p((0,u.RW)())}),[]),g?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(a.m,{children:[(0,x.jsx)("meta",{charSet:"utf-8"}),(0,x.jsx)("title",{children:e("SEO.titles.search")})]}),(0,x.jsx)("div",{className:"w-fit mx-auto p-[3rem]",children:g&&(0,x.jsx)(l.IN,{strokeColor:"#c89329"})})]}):f?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(a.m,{children:[(0,x.jsx)("meta",{charSet:"utf-8"}),(0,x.jsx)("title",{children:e("SEO.titles.search")})]}),(0,x.jsx)("div",{className:"container mx-auto p-4",children:(0,x.jsx)(m.A,{refetchFunction:()=>b(),disable:g})})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(a.m,{children:[(0,x.jsx)("meta",{charSet:"utf-8"}),(0,x.jsx)("title",{children:e("SEO.titles.search")})]}),(0,x.jsxs)("div",{className:"container mx-auto p-4",children:[(0,x.jsx)("p",{className:"text-lg font-semibold my-3",children:"".concat(e("search.results")," ").concat(null===s||void 0===s?void 0:s.length)}),0===s.length&&(0,x.jsx)("p",{className:"bg-white text-lg text-center p-4",children:e("search.noData")})]}),(0,x.jsx)("div",{className:"store-container container mx-auto py-8 gap-[1rem] md:gap flex flex-wrap px-3",children:s.map((e=>(0,x.jsx)(d.A,{id:e._id,images:e.productImage,name:e.name,price:e.price},e._id)))})]})}}}]);
//# sourceMappingURL=860.a7a404e6.chunk.js.map